describe("In Dominoes", function () {
    function expectMove(numberOfPlayers, turnIndexBeforeMove, stateBeforeMove, move, isOk) {
        expect(gameLogic.isMoveOk({
            turnIndexBeforeMove: turnIndexBeforeMove,
            turnIndexAfterMove: null,
            stateBeforeMove: stateBeforeMove,
            stateAfterMove: null,
            move: move,
            numberOfPlayers: numberOfPlayers })).toBe(isOk);
    }
    function expectMoveOk(turnIndexBeforeMove, stateBeforeMove, move) {
        expectMove(2, turnIndexBeforeMove, stateBeforeMove, move, true);
    }
    function expectIllegalMove(turnIndexBeforeMove, stateBeforeMove, move) {
        expectMove(2, turnIndexBeforeMove, stateBeforeMove, move, false);
    }
    //TODO: CONFIRM SHUFFLE
    it("Get initial board is legal for two players", function () {
        expectMoveOk(0, undefined, [{ "set": { "key": "tile0", "value": { "leftNumber": 0, "rightNumber": 0 } } }, { "set": { "key": "tile1", "value": { "leftNumber": 0, "rightNumber": 1 } } }, { "set": { "key": "tile2", "value": { "leftNumber": 1, "rightNumber": 1 } } }, { "set": { "key": "tile3", "value": { "leftNumber": 0, "rightNumber": 2 } } }, { "set": { "key": "tile4", "value": { "leftNumber": 1, "rightNumber": 2 } } }, { "set": { "key": "tile5", "value": { "leftNumber": 2, "rightNumber": 2 } } }, { "set": { "key": "tile6", "value": { "leftNumber": 0, "rightNumber": 3 } } }, { "set": { "key": "tile7", "value": { "leftNumber": 1, "rightNumber": 3 } } }, { "set": { "key": "tile8", "value": { "leftNumber": 2, "rightNumber": 3 } } }, { "set": { "key": "tile9", "value": { "leftNumber": 3, "rightNumber": 3 } } }, { "set": { "key": "tile10", "value": { "leftNumber": 0, "rightNumber": 4 } } }, { "set": { "key": "tile11", "value": { "leftNumber": 1, "rightNumber": 4 } } }, { "set": { "key": "tile12", "value": { "leftNumber": 2, "rightNumber": 4 } } }, { "set": { "key": "tile13", "value": { "leftNumber": 3, "rightNumber": 4 } } }, { "set": { "key": "tile14", "value": { "leftNumber": 4, "rightNumber": 4 } } }, { "set": { "key": "tile15", "value": { "leftNumber": 0, "rightNumber": 5 } } }, { "set": { "key": "tile16", "value": { "leftNumber": 1, "rightNumber": 5 } } }, { "set": { "key": "tile17", "value": { "leftNumber": 2, "rightNumber": 5 } } }, { "set": { "key": "tile18", "value": { "leftNumber": 3, "rightNumber": 5 } } }, { "set": { "key": "tile19", "value": { "leftNumber": 4, "rightNumber": 5 } } }, { "set": { "key": "tile20", "value": { "leftNumber": 5, "rightNumber": 5 } } }, { "set": { "key": "tile21", "value": { "leftNumber": 0, "rightNumber": 6 } } }, { "set": { "key": "tile22", "value": { "leftNumber": 1, "rightNumber": 6 } } }, { "set": { "key": "tile23", "value": { "leftNumber": 2, "rightNumber": 6 } } }, { "set": { "key": "tile24", "value": { "leftNumber": 3, "rightNumber": 6 } } }, { "set": { "key": "tile25", "value": { "leftNumber": 4, "rightNumber": 6 } } }, { "set": { "key": "tile26", "value": { "leftNumber": 5, "rightNumber": 6 } } }, { "set": { "key": "tile27", "value": { "leftNumber": 6, "rightNumber": 6 } } }, { "setTurn": { "turnIndex": 0 } }, { "set": { "key": "house", "value": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] } } }, { "set": { "key": "board", "value": {} } }, { "shuffle": { "keys": ["tile0", "tile1", "tile2", "tile3", "tile4", "tile5", "tile6", "tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13", "tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile0", "tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13"] }] } }, { "setVisibility": { "key": "tile0", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile1", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile2", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile3", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile4", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile5", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile6", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile7", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile8", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile9", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile10", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile11", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile12", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile13", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile14", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile15", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile16", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile17", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile18", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile19", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile20", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile21", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile22", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile23", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile24", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile25", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile26", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile27", "visibleToPlayerIndexes": [] } }]);
    });
    it("Get initial board is legal for three players", function () {
        expectMove(3, 0, undefined, [{ "set": { "key": "tile0", "value": { "leftNumber": 0, "rightNumber": 0 } } }, { "set": { "key": "tile1", "value": { "leftNumber": 0, "rightNumber": 1 } } }, { "set": { "key": "tile2", "value": { "leftNumber": 1, "rightNumber": 1 } } }, { "set": { "key": "tile3", "value": { "leftNumber": 0, "rightNumber": 2 } } }, { "set": { "key": "tile4", "value": { "leftNumber": 1, "rightNumber": 2 } } }, { "set": { "key": "tile5", "value": { "leftNumber": 2, "rightNumber": 2 } } }, { "set": { "key": "tile6", "value": { "leftNumber": 0, "rightNumber": 3 } } }, { "set": { "key": "tile7", "value": { "leftNumber": 1, "rightNumber": 3 } } }, { "set": { "key": "tile8", "value": { "leftNumber": 2, "rightNumber": 3 } } }, { "set": { "key": "tile9", "value": { "leftNumber": 3, "rightNumber": 3 } } }, { "set": { "key": "tile10", "value": { "leftNumber": 0, "rightNumber": 4 } } }, { "set": { "key": "tile11", "value": { "leftNumber": 1, "rightNumber": 4 } } }, { "set": { "key": "tile12", "value": { "leftNumber": 2, "rightNumber": 4 } } }, { "set": { "key": "tile13", "value": { "leftNumber": 3, "rightNumber": 4 } } }, { "set": { "key": "tile14", "value": { "leftNumber": 4, "rightNumber": 4 } } }, { "set": { "key": "tile15", "value": { "leftNumber": 0, "rightNumber": 5 } } }, { "set": { "key": "tile16", "value": { "leftNumber": 1, "rightNumber": 5 } } }, { "set": { "key": "tile17", "value": { "leftNumber": 2, "rightNumber": 5 } } }, { "set": { "key": "tile18", "value": { "leftNumber": 3, "rightNumber": 5 } } }, { "set": { "key": "tile19", "value": { "leftNumber": 4, "rightNumber": 5 } } }, { "set": { "key": "tile20", "value": { "leftNumber": 5, "rightNumber": 5 } } }, { "set": { "key": "tile21", "value": { "leftNumber": 0, "rightNumber": 6 } } }, { "set": { "key": "tile22", "value": { "leftNumber": 1, "rightNumber": 6 } } }, { "set": { "key": "tile23", "value": { "leftNumber": 2, "rightNumber": 6 } } }, { "set": { "key": "tile24", "value": { "leftNumber": 3, "rightNumber": 6 } } }, { "set": { "key": "tile25", "value": { "leftNumber": 4, "rightNumber": 6 } } }, { "set": { "key": "tile26", "value": { "leftNumber": 5, "rightNumber": 6 } } }, { "set": { "key": "tile27", "value": { "leftNumber": 6, "rightNumber": 6 } } }, { "setTurn": { "turnIndex": 0 } }, { "set": { "key": "house", "value": { "id": -1, "hand": ["tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] } } }, { "set": { "key": "board", "value": {} } }, { "shuffle": { "keys": ["tile0", "tile1", "tile2", "tile3", "tile4", "tile5", "tile6", "tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13", "tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile0", "tile1", "tile2", "tile3", "tile4"] }, { "id": 1, "hand": ["tile5", "tile6", "tile7", "tile8", "tile9"] }, { "id": 2, "hand": ["tile10", "tile11", "tile12", "tile13", "tile14"] }] } }, { "setVisibility": { "key": "tile0", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile1", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile2", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile3", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile4", "visibleToPlayerIndexes": [0] } }, { "setVisibility": { "key": "tile5", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile6", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile7", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile8", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile9", "visibleToPlayerIndexes": [1] } }, { "setVisibility": { "key": "tile10", "visibleToPlayerIndexes": [2] } }, { "setVisibility": { "key": "tile11", "visibleToPlayerIndexes": [2] } }, { "setVisibility": { "key": "tile12", "visibleToPlayerIndexes": [2] } }, { "setVisibility": { "key": "tile13", "visibleToPlayerIndexes": [2] } }, { "setVisibility": { "key": "tile14", "visibleToPlayerIndexes": [2] } }, { "setVisibility": { "key": "tile15", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile16", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile17", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile18", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile19", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile20", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile21", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile22", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile23", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile24", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile25", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile26", "visibleToPlayerIndexes": [] } }, { "setVisibility": { "key": "tile27", "visibleToPlayerIndexes": [] } }], true);
    });
    it("Get initial board for more than 4 players is illegal", function () {
        expectMove(5, 0, undefined, [{ set: { key: "tile0", value: { leftNumber: 0, rightNumber: 0 }, visibleToPlayerIndexes: [0] } }, { set: { key: "tile1", value: { leftNumber: 0, rightNumber: 1 }, visibleToPlayerIndexes: [0] } }, { set: { key: "tile2", value: { leftNumber: 1, rightNumber: 1 }, visibleToPlayerIndexes: [0] } }, { set: { key: "tile3", value: { leftNumber: 0, rightNumber: 2 }, visibleToPlayerIndexes: [0] } }, { set: { key: "tile4", value: { leftNumber: 1, rightNumber: 2 }, visibleToPlayerIndexes: [0] } }, { set: { key: "tile5", value: { leftNumber: 2, rightNumber: 2 }, visibleToPlayerIndexes: [1] } }, { set: { key: "tile6", value: { leftNumber: 0, rightNumber: 3 }, visibleToPlayerIndexes: [1] } }, { set: { key: "tile7", value: { leftNumber: 1, rightNumber: 3 }, visibleToPlayerIndexes: [1] } }, { set: { key: "tile8", value: { leftNumber: 2, rightNumber: 3 }, visibleToPlayerIndexes: [1] } }, { set: { key: "tile9", value: { leftNumber: 3, rightNumber: 3 }, visibleToPlayerIndexes: [1] } }, { set: { key: "tile10", value: { leftNumber: 0, rightNumber: 4 }, visibleToPlayerIndexes: [2] } }, { set: { key: "tile11", value: { leftNumber: 1, rightNumber: 4 }, visibleToPlayerIndexes: [2] } }, { set: { key: "tile12", value: { leftNumber: 2, rightNumber: 4 }, visibleToPlayerIndexes: [2] } }, { set: { key: "tile13", value: { leftNumber: 3, rightNumber: 4 }, visibleToPlayerIndexes: [2] } }, { set: { key: "tile14", value: { leftNumber: 4, rightNumber: 4 }, visibleToPlayerIndexes: [2] } }, { set: { key: "tile15", value: { leftNumber: 0, rightNumber: 5 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile16", value: { leftNumber: 1, rightNumber: 5 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile17", value: { leftNumber: 2, rightNumber: 5 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile18", value: { leftNumber: 3, rightNumber: 5 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile19", value: { leftNumber: 4, rightNumber: 5 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile20", value: { leftNumber: 5, rightNumber: 5 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile21", value: { leftNumber: 0, rightNumber: 6 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile22", value: { leftNumber: 1, rightNumber: 6 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile23", value: { leftNumber: 2, rightNumber: 6 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile24", value: { leftNumber: 3, rightNumber: 6 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile25", value: { leftNumber: 4, rightNumber: 6 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile26", value: { leftNumber: 5, rightNumber: 6 }, visibleToPlayerIndexes: [] } }, { set: { key: "tile27", value: { leftNumber: 6, rightNumber: 6 }, visibleToPlayerIndexes: [] } }, { setTurn: { turnIndex: 0 } }, { set: { key: "player0", value: { id: 0, hand: ["tile0", "tile1", "tile2", "tile3", "tile4"] } } }, { set: { key: "player1", value: { id: 1, hand: ["tile5", "tile6", "tile7", "tile8", "tile9"] } } }, { set: { key: "player2", value: { id: 2, hand: ["tile10", "tile11", "tile12", "tile13", "tile14"] } } }, { set: { key: "player3", value: { id: 3, hand: ["tile15", "tile16", "tile17", "tile18", "tile19"] } } }, { set: { key: "player4", value: { id: 4, hand: ["tile20", "tile21", "tile22", "tile23", "tile24"] } } }, { set: { key: "player5", value: { id: 5, hand: ["tile25", "tile26", "tile27"] } } }, { set: { key: "house", value: { id: -1, hand: ["tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] } } }, { set: { key: "board", value: {} } }, { shuffle: { keys: ["tile0", "tile1", "tile2", "tile3", "tile4", "tile5", "tile6", "tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13", "tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] } }], false);
    });
    it("Initial move is legal", function () {
        expectMoveOk(0, { "delta": { "tileKey": 'tile0' }, "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": null, "tile8": null, "tile9": null, "tile10": null, "tile11": null, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": {}, "players": [{ "id": 0, "hand": ["tile0", "tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13"] }] }, [{ "setTurn": { "turnIndex": 1 } }, { "set": { "key": "board", "value": { "root": { "leftNumber": 2, "rightNumber": 6 }, "leftMost": { "leftNumber": 2, "rightNumber": 6 }, "rightMost": { "leftNumber": 2, "rightNumber": 6 } } } }, { "set": { "key": "delta", "value": { "tileKey": "tile0" } } }, { "setVisibility": { "key": "tile0", "visibleToPlayerIndexes": [0, 1] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13"] }] } }]);
    });
    it("Move play tile to the right is legal", function () {
        expectMoveOk(1, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": null, "tile2": null, "tile3": null, "tile4": null, "tile5": null, "tile6": null, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": { "leftNumber": 5, "rightNumber": 5 }, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": { "leftNumber": 4, "rightNumber": 4 }, "tile13": { "leftNumber": 1, "rightNumber": 6 }, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6 }, "leftMost": { "leftNumber": 2, "rightNumber": 6 }, "rightMost": { "leftNumber": 2, "rightNumber": 6 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile10", "play": Play.RIGHT } }, [{ "setTurn": { "turnIndex": 0 } }, { "set": { "key": "board", "value": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4 } }, "leftMost": { "leftNumber": 2, "rightNumber": 6 }, "rightMost": { "leftNumber": 6, "rightNumber": 4 } } } }, { "set": { "key": "delta", "value": { "tileKey": "tile10", "play": 1 } } }, { "setVisibility": { "key": "tile10", "visibleToPlayerIndexes": [0, 1] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile11", "tile12", "tile13"] }] } }]);
    });
    it("Move play tile to the left is legal", function () {
        expectMoveOk(0, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": null, "tile8": null, "tile9": null, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": null, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4 } }, "leftMost": { "leftNumber": 2, "rightNumber": 6 }, "rightMost": { "leftNumber": 6, "rightNumber": 4 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile3", "play": Play.LEFT } }, [{ "setTurn": { "turnIndex": 1 } }, { "set": { "key": "board", "value": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4 }, "leftTile": { "leftNumber": 1, "rightNumber": 2 } }, "leftMost": { "leftNumber": 1, "rightNumber": 2 }, "rightMost": { "leftNumber": 6, "rightNumber": 4 } } } }, { "set": { "key": "delta", "value": { "tileKey": "tile3", "play": 0 } } }, { "setVisibility": { "key": "tile3", "visibleToPlayerIndexes": [0, 1] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile11", "tile12", "tile13"] }] } }]);
    });
    it("Move play additional tile to the right is legal", function () {
        expectMoveOk(1, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": null, "tile2": null, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": null, "tile5": null, "tile6": null, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": { "leftNumber": 5, "rightNumber": 5 }, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": { "leftNumber": 4, "rightNumber": 4 }, "tile13": { "leftNumber": 1, "rightNumber": 6 }, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4 }, "leftTile": { "leftNumber": 1, "rightNumber": 2 } }, "leftMost": { "leftNumber": 1, "rightNumber": 2 }, "rightMost": { "leftNumber": 6, "rightNumber": 4 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile9", "play": Play.RIGHT } }, [{ "setTurn": { "turnIndex": 0 } }, { "set": { "key": "board", "value": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1 } }, "leftTile": { "leftNumber": 1, "rightNumber": 2 } }, "leftMost": { "leftNumber": 1, "rightNumber": 2 }, "rightMost": { "leftNumber": 4, "rightNumber": 1 } } } }, { "set": { "key": "delta", "value": { "tileKey": "tile9", "play": 1 } } }, { "setVisibility": { "key": "tile9", "visibleToPlayerIndexes": [0, 1] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile11", "tile12", "tile13"] }] } }]);
    });
    it("Move play additional tile to the left is legal", function () {
        expectMoveOk(0, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": null, "tile8": null, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": null, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1 } }, "leftTile": { "leftNumber": 1, "rightNumber": 2 } }, "leftMost": { "leftNumber": 1, "rightNumber": 2 }, "rightMost": { "leftNumber": 4, "rightNumber": 1 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile5", "play": Play.LEFT } }, [{ "setTurn": { "turnIndex": 1 } }, { "set": { "key": "board", "value": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1 } }, "leftTile": { "leftNumber": 1, "rightNumber": 2, "leftTile": { "leftNumber": 1, "rightNumber": 1 } } }, "leftMost": { "leftNumber": 1, "rightNumber": 1 }, "rightMost": { "leftNumber": 4, "rightNumber": 1 } } } }, { "set": { "key": "delta", "value": { "tileKey": "tile5", "play": 0 } } }, { "setVisibility": { "key": "tile5", "visibleToPlayerIndexes": [0, 1] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile11", "tile12", "tile13"] }] } }]);
    });
    it("Move play left tile that needs to be flipped is legal", function () {
        expectMoveOk(0, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 6 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": null, "tile8": null, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": null, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1 } }, "leftTile": { "leftNumber": 1, "rightNumber": 2 } }, "leftMost": { "leftNumber": 1, "rightNumber": 2 }, "rightMost": { "leftNumber": 4, "rightNumber": 1 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile5", "play": Play.LEFT } }, [{ "setTurn": { "turnIndex": 1 } }, { "set": { "key": "board", "value": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1 } }, "leftTile": { "leftNumber": 1, "rightNumber": 2, "leftTile": { "leftNumber": 6, "rightNumber": 1 } } }, "leftMost": { "leftNumber": 6, "rightNumber": 1 }, "rightMost": { "leftNumber": 4, "rightNumber": 1 } } } }, { "set": { "key": "delta", "value": { "tileKey": "tile5", "play": 0 } } }, { "setVisibility": { "key": "tile5", "visibleToPlayerIndexes": [0, 1] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile11", "tile12", "tile13"] }] } }]);
    });
    it("Move play last tile is legal", function () {
        expectMoveOk(0, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 4, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": null, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": { "leftNumber": 5, "rightNumber": 5 }, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": { "leftNumber": 4, "rightNumber": 4 }, "tile13": null, "tile14": { "leftNumber": 2, "rightNumber": 5 }, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 5, "rightNumber": 5, "rightTile": { "leftNumber": 4, "rightNumber": 4 } }, "leftTile": { "leftNumber": 1, "rightNumber": 2, "leftTile": { "leftNumber": 1, "rightNumber": 1 } } }, "leftMost": { "leftNumber": 1, "rightNumber": 1 }, "rightMost": { "leftNumber": 4, "rightNumber": 4 } }, "players": [{ "id": 0, "hand": ["tile1"] }, { "id": 1, "hand": ["tile4", "tile13"] }], "delta": { "tileKey": "tile1", "play": Play.RIGHT } }, [{ "endMatch": { "endMatchScores": [1, 0] } }, { "set": { "key": "board", "value": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 5, "rightNumber": 5, "rightTile": { "leftNumber": 4, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 5 } } }, "leftTile": { "leftNumber": 1, "rightNumber": 2, "leftTile": { "leftNumber": 1, "rightNumber": 1 } } }, "leftMost": { "leftNumber": 1, "rightNumber": 1 }, "rightMost": { "leftNumber": 4, "rightNumber": 5 } } } }, { "set": { "key": "delta", "value": { "tileKey": "tile1", "play": 1 } } }, { "setVisibility": { "key": "tile1", "visibleToPlayerIndexes": [0, 1] } }]);
    });
    it("Move buy from house is legal", function () {
        expectMoveOk(0, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": null, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1, "rightTile": { "leftNumber": 1, "rightNumber": 3, "rightTile": { "leftNumber": 3, "rightNumber": 2 } } } }, "leftTile": { "leftNumber": 1, "rightNumber": 2, "leftTile": { "leftNumber": 1, "rightNumber": 1 } } }, "leftMost": { "leftNumber": 1, "rightNumber": 1 }, "rightMost": { "leftNumber": 3, "rightNumber": 2 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile4"] }, { "id": 1, "hand": ["tile8", "tile12", "tile13"] }], "delta": { "tileKey": "tile14", "play": Play.BUY } }, [{ "setTurn": { "turnIndex": 0 } }, { "set": { "key": "board", "value": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1, "rightTile": { "leftNumber": 1, "rightNumber": 3, "rightTile": { "leftNumber": 3, "rightNumber": 2 } } } }, "leftTile": { "leftNumber": 1, "rightNumber": 2, "leftTile": { "leftNumber": 1, "rightNumber": 1 } } }, "leftMost": { "leftNumber": 1, "rightNumber": 1 }, "rightMost": { "leftNumber": 3, "rightNumber": 2 } } } }, { "set": { "key": "delta", "value": { "tileKey": "tile14", "play": 2 } } }, { "setVisibility": { "key": "tile14", "visibleToPlayerIndexes": [0] } }, { "set": { "key": "players", "value": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile14"] }, { "id": 1, "hand": ["tile8", "tile12", "tile13"] }] } }]);
    });
    it("Move play left tile with wrong number is illegal", function () {
        expectIllegalMove(1, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": null, "tile2": null, "tile3": null, "tile4": null, "tile5": null, "tile6": null, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": { "leftNumber": 5, "rightNumber": 5 }, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": { "leftNumber": 4, "rightNumber": 4 }, "tile13": { "leftNumber": 1, "rightNumber": 6 }, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6 }, "leftMost": { "leftNumber": 2, "rightNumber": 6 }, "rightMost": { "leftNumber": 2, "rightNumber": 6 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile10", "play": Play.LEFT } }, []);
    });
    it("Move play right tile with wrong number is illegal", function () {
        expectIllegalMove(0, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": null, "tile8": null, "tile9": null, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": null, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4 } }, "leftMost": { "leftNumber": 2, "rightNumber": 6 }, "rightMost": { "leftNumber": 6, "rightNumber": 4 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile3", "play": Play.RIGHT } }, []);
    });
    it("Move buy from house with no tiles is illegal", function () {
        expectIllegalMove(1, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": null, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": [] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1, "rightTile": { "leftNumber": 1, "rightNumber": 3, "rightTile": { "leftNumber": 3, "rightNumber": 2 } } } }, "leftTile": { "leftNumber": 1, "rightNumber": 2, "leftTile": { "leftNumber": 1, "rightNumber": 1 } } }, "leftMost": { "leftNumber": 1, "rightNumber": 1 }, "rightMost": { "leftNumber": 3, "rightNumber": 2 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile4"] }, { "id": 1, "hand": ["tile8", "tile12", "tile13"] }], "delta": { "tileKey": "tile14", "play": Play.BUY } }, []);
    });
    it("Move play unknown tile to the right is illegal", function () {
        expectIllegalMove(0, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": null, "tile2": null, "tile3": null, "tile4": null, "tile5": null, "tile6": null, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": { "leftNumber": 5, "rightNumber": 5 }, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": { "leftNumber": 4, "rightNumber": 4 }, "tile13": { "leftNumber": 1, "rightNumber": 6 }, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6 }, "leftMost": { "leftNumber": 2, "rightNumber": 6 }, "rightMost": { "leftNumber": 2, "rightNumber": 6 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile10", "play": Play.RIGHT } }, []);
    });
    it("Move buy unknown tile from house is illegal", function () {
        expectIllegalMove(1, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": null, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": [] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1, "rightTile": { "leftNumber": 1, "rightNumber": 3, "rightTile": { "leftNumber": 3, "rightNumber": 2 } } } }, "leftTile": { "leftNumber": 1, "rightNumber": 2, "leftTile": { "leftNumber": 1, "rightNumber": 1 } } }, "leftMost": { "leftNumber": 1, "rightNumber": 1 }, "rightMost": { "leftNumber": 3, "rightNumber": 2 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile4"] }, { "id": 1, "hand": ["tile8", "tile12", "tile13"] }], "delta": { "tileKey": "tile1", "play": Play.BUY } }, []);
    });
    it("Move after game was already won is illegal", function () {
        expectIllegalMove(1, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": null, "tile8": null, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": null, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1 } }, "leftTile": { "leftNumber": 1, "rightNumber": 2 } }, "leftMost": { "leftNumber": 1, "rightNumber": 2 }, "rightMost": { "leftNumber": 4, "rightNumber": 1 } }, "players": [{ "id": 0, "hand": [] }, { "id": 1, "hand": ["tile7", "tile8", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile5", "play": Play.LEFT } }, []);
    });
    it("Move unknown is illegal", function () {
        expectIllegalMove(1, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": { "leftNumber": 0, "rightNumber": 5 }, "tile2": { "leftNumber": 4, "rightNumber": 5 }, "tile3": { "leftNumber": 1, "rightNumber": 2 }, "tile4": { "leftNumber": 6, "rightNumber": 6 }, "tile5": { "leftNumber": 1, "rightNumber": 1 }, "tile6": { "leftNumber": 3, "rightNumber": 3 }, "tile7": null, "tile8": null, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": null, "tile12": null, "tile13": null, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6, "rightTile": { "leftNumber": 6, "rightNumber": 4, "rightTile": { "leftNumber": 4, "rightNumber": 1 } }, "leftTile": { "leftNumber": 1, "rightNumber": 2 } }, "leftMost": { "leftNumber": 1, "rightNumber": 2 }, "rightMost": { "leftNumber": 4, "rightNumber": 1 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile5", "play": 10 } }, []);
    });
    it("Move incorrect expected move is illegal", function () {
        expectIllegalMove(1, { "tile0": { "leftNumber": 2, "rightNumber": 6 }, "tile1": null, "tile2": null, "tile3": null, "tile4": null, "tile5": null, "tile6": null, "tile7": { "leftNumber": 1, "rightNumber": 3 }, "tile8": { "leftNumber": 5, "rightNumber": 5 }, "tile9": { "leftNumber": 1, "rightNumber": 4 }, "tile10": { "leftNumber": 4, "rightNumber": 6 }, "tile11": { "leftNumber": 2, "rightNumber": 3 }, "tile12": { "leftNumber": 4, "rightNumber": 4 }, "tile13": { "leftNumber": 1, "rightNumber": 6 }, "tile14": null, "tile15": null, "tile16": null, "tile17": null, "tile18": null, "tile19": null, "tile20": null, "tile21": null, "tile22": null, "tile23": null, "tile24": null, "tile25": null, "tile26": null, "tile27": null, "house": { "id": -1, "hand": ["tile14", "tile15", "tile16", "tile17", "tile18", "tile19", "tile20", "tile21", "tile22", "tile23", "tile24", "tile25", "tile26", "tile27"] }, "board": { "root": { "leftNumber": 2, "rightNumber": 6 }, "leftMost": { "leftNumber": 2, "rightNumber": 6 }, "rightMost": { "leftNumber": 2, "rightNumber": 6 } }, "players": [{ "id": 0, "hand": ["tile1", "tile2", "tile3", "tile4", "tile5", "tile6"] }, { "id": 1, "hand": ["tile7", "tile8", "tile9", "tile10", "tile11", "tile12", "tile13"] }], "delta": { "tileKey": "tile10", "play": Play.RIGHT } }, []);
    });
});
