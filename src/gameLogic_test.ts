describe("In Dominoes", function() {

  function expectMove(numberOfPlayers: number,
      turnIndexBeforeMove: number, stateBeforeMove: IState, move: IMove, isOk: boolean): void {
    expect(gameLogic.isMoveOk({
      turnIndexBeforeMove: turnIndexBeforeMove,
      turnIndexAfterMove: null,
      stateBeforeMove: stateBeforeMove,
      stateAfterMove: null,
      move: move,
      numberOfPlayers: numberOfPlayers})).toBe(isOk);
  }

  function expectMoveOk(turnIndexBeforeMove: number, stateBeforeMove: IState, move: IMove): void {
    expectMove(2, turnIndexBeforeMove, stateBeforeMove, move, true);
  }

  function expectIllegalMove(turnIndexBeforeMove: number, stateBeforeMove: IState, move: IMove): void {
    expectMove(2, turnIndexBeforeMove, stateBeforeMove, move, false);
  }

  //TODO: CONFIRM SHUFFLE
  it("Move after game is tied is illegal", function() {
    expectIllegalMove(1, {delta: {tileId: 0}, house: {id:-1,hand:[2,7]}, players: [{id:0,hand:[9,20]},{id:1,hand:[14,15]}],board: {leftMost: 1, rightMost: 2, tiles: [0,17,22], allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:1}},{set:{key:"board",value:{allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:0}}},{setVisibility:{key:"tile0",visibleToPlayerIndexes:[0,1]}},{set:{key:"player0",value:{id:0,hand:[1,2,3,4,5,6]}}}]);
  });

 it("Get initial board is legal for two players", function() {
    expectMoveOk(0, undefined,
    [{set:{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]}},{set:{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]}},{set:{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]}},{set:{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]}},{set:{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]}},{set:{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]}},{set:{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]}},{set:{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]}},{set:{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]}},{set:{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]}},{set:{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]}},{set:{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]}},{set:{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}},{setTurn:{turnIndex:0}},{set:{key:"player0",value:{id:0,hand:[0,1,2,3,4,5,6]}}},{set:{key:"player1",value:{id:1,hand:[7,8,9,10,11,12,13]}}},{set:{key:"house",value:{id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}}},{set:{key:"board",value:{allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"allTiles",value:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},{shuffle:{keys:["tile0","tile1","tile2","tile3","tile4","tile5","tile6","tile7","tile8","tile9","tile10","tile11","tile12","tile13","tile14","tile15","tile16","tile17","tile18","tile19","tile20","tile21","tile22","tile23","tile24","tile25","tile26","tile27"]}}]);
  });

  it("Get initial board is legal for three players", function() {
     expectMove(3, 0, undefined,
     [{set:{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]}},{set:{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]}},{set:{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]}},{set:{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]}},{set:{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]}},{set:{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[1]}},{set:{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}},{setTurn:{turnIndex:0}},{set:{key:"player0",value:{id:0,hand:[0,1,2,3,4]}}},{set:{key:"player1",value:{id:1,hand:[5,6,7,8,9]}}},{set:{key:"player2",value:{id:2,hand:[10,11,12,13,14]}}},{set:{key:"house",value:{id:-1,hand:[15,16,17,18,19,20,21,22,23,24,25,26,27]}}},{set:{key:"board",value:{"allTiles":[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[1]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"allTiles",value:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[1]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},{shuffle:{keys:["tile0","tile1","tile2","tile3","tile4","tile5","tile6","tile7","tile8","tile9","tile10","tile11","tile12","tile13","tile14","tile15","tile16","tile17","tile18","tile19","tile20","tile21","tile22","tile23","tile24","tile25","tile26","tile27"]}}], true);
   });

   it("Get initial board for more than 4 players is illegal", function() {
      expectMove(5, 0, undefined,
      [{set:{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]}},{set:{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]}},{set:{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]}},{set:{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]}},{set:{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]}},{set:{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[1]}},{set:{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]}},{set:{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[2]}},{set:{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]}},{set:{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]}},{set:{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}},{setTurn:{turnIndex:0}},{set:{key:"player0",value:{id:0,hand:[0,1,2,3,4]}}},{set:{key:"player1",value:{id:1,hand:[5,6,7,8,9]}}},{set:{key:"player2",value:{id:2,hand:[10,11,12,13,14]}}},{set:{key:"house",value:{id:-1,hand:[15,16,17,18,19,20,21,22,23,24,25,26,27]}}},{set:{key:"board",value:{"allTiles":[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[1]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"allTiles",value:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[1]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[2]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},{shuffle:{keys:["tile0","tile1","tile2","tile3","tile4","tile5","tile6","tile7","tile8","tile9","tile10","tile11","tile12","tile13","tile14","tile15","tile16","tile17","tile18","tile19","tile20","tile21","tile22","tile23","tile24","tile25","tile26","tile27"]}}], false);
    });

 it("Initial move is legal", function() {
    expectMoveOk(0, {delta: {tileId: 0}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[0,1,2,3,4,5,6]},{id:1,hand:[7,8,9,10,11,12,13]}] ,board: {allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:1}},{set:{key:"board",value:{allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:0}}},{setVisibility:{key:"tile0",visibleToPlayerIndexes:[0,1]}},{set:{key:"player0",value:{id:0,hand:[1,2,3,4,5,6]}}}]);
  });

  it("Move after game was already won is illegal", function() {
    expectIllegalMove(1, {delta: {tileId: 0}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[]},{id:1,hand:[7,8,9,10]}],board: {leftMost: 6, rightMost: 11 ,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:1}},{set:{key:"board",value:{allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:0}}},{setVisibility:{key:"tile0",visibleToPlayerIndexes:[0,1]}},{set:{key:"player0",value:{id:0,hand:[1,2,3,4,5,6]}}}]);
  });

  it("Move play tile to the right is legal", function() {
    expectMoveOk(1, {delta: {tileId: 10, play: Play.RIGHT}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[1,2,3,4,5,6]},{id:1,hand:[7,8,9,10,11,12,13]}],board: {tiles: [0], leftMost: 0, rightMost: 0, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:0}},{set:{key:"board",value:{"tiles":[0,undefined,10],leftMost:0,rightMost:2,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:10,play:1}}},{setVisibility:{key:"tile10",visibleToPlayerIndexes:[0,1]}},{set:{key:"player1",value:{id:1,hand:[7,8,9,11,12,13]}}}]);
  });

  it("Move play tile to the left is legal", function() {
    expectMoveOk(1, {delta: {tileId: 10, play: Play.LEFT}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[1,2,3,4,5,6]},{id:1,hand:[7,8,9,10,11,12,13]}],board: {tiles: [0], leftMost: 0, rightMost: 0, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:0}},{set:{key:"board",value:{tiles:[0,10],leftMost:1,rightMost:0,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:4,rightNumber:0},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:10,play:Play.LEFT}}},{setVisibility:{key:"tile10",visibleToPlayerIndexes:[0,1]}},{set:{key:"player1",value:{id:1,hand:[7,8,9,11,12,13]}}}]);
  });

  it("Move play tile to the right is illegal", function() {
    expectIllegalMove(1, {delta: {tileId: 7, play: Play.RIGHT}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[1,2,3,4,5,6]},{id:1,hand:[7,8,9,10,11,12,13]}],board: {tiles: [0], leftMost: 0, rightMost: 0, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:0}},{set:{key:"board",value:{tiles:[0,null,7],leftMost:0,rightMost:2,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:10,play:Play.RIGHT}}},{setVisibility:{key:"tile7",visibleToPlayerIndexes:[0,1]}},{set:{key:"player1",value:{id:1,hand:[8,9,10,11,12,13]}}}]);
  });

  it("Move buy from house is legal", function() {
    expectMoveOk(0, {delta: {tileId: 15, play: Play.BUY}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[2,3,4,5,6]},{id:1,hand:[7,8,9,12,13]}],board: {tiles: [0,1,10,11], leftMost: 3, rightMost: 2, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:0}},{set:{key:"board",value:{tiles:[0,1,10,11],leftMost:3,rightMost:2,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:15,play:Play.BUY}}},{setVisibility:{key:"tile15",visibleToPlayerIndexes:[0]}},{set:{key:"player0",value:{id:0,"hand":[2,3,4,5,6,15]}}}]);
  });

  it("Move buy unknown tile from house is illegal", function() {
    expectIllegalMove(0, {delta: {tileId: 13, play: Play.BUY}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[2,3,4,5,6]},{id:1,hand:[7,8,9,12,13]}],board: {tiles: [0,1,10,11], leftMost: 3, rightMost: 2, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:0}},{set:{key:"board",value:{tiles:[0,1,10,11],leftMost:3,rightMost:2,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:15,play:Play.BUY}}},{setVisibility:{key:"tile15",visibleToPlayerIndexes:[0]}},{set:{key:"player0",value:{id:0,"hand":[2,3,4,5,6,13]}}}]);
  });

  it("Move buy from house with no tiles is illegal", function() {
    expectIllegalMove(1, {delta: {tileId: 27, play: Play.BUY}, house: {id:-1,hand:[]}, players: [{id:0,hand:[2,3,4,5,15,16,17,18,20,21,22,23,24,26,27]},{id:1,hand:[7,8,9,12,14,19]}],board: {tiles: [0,1,10,11,null,25,null,13,null,null,null,null,null,null,null,6], leftMost: 15, rightMost: 5, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:0}},{set:{key:"board",value:{tiles:[0,1,10,11],leftMost:3,rightMost:2,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:15,play:Play.BUY}}},{setVisibility:{key:"tile15",visibleToPlayerIndexes:[0]}},{set:{key:"player0",value:{id:1,"hand":[7,8,9,12,14,19, 25]}}}]);
  });

  it("Move unknown is illegal", function() {
    expectIllegalMove(1, {delta: {tileId: 10, play: 5}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[1,2,3,4,5,6]},{id:1,hand:[7,8,9,10,11,12,13]}],board: {tiles: [0], leftMost: 0, rightMost: 0, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:0}},{set:{key:"board",value:{tiles:[0,10],leftMost:1,rightMost:0,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:10,play:5}}},{setVisibility:{key:"tile10",visibleToPlayerIndexes:[0,1]}},{set:{key:"player1",value:{id:1,hand:[7,8,9,11,12,13]}}}]);
  });

  it("Move play right tile with wrong number is illegal", function() {
    expectIllegalMove(1, {delta: {tileId: 7, play: Play.RIGHT}, house: {id:-1,hand:[5,6,9,11,12,16,17,21,22,23,24]}, players: [{id:0,hand:[1,2,3]},{id:1,hand:[7]}],board: {tiles: [0, 15, 10, 20, null, null, 25, 19, null, null, null, null, null, null, 27, 14, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 26, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 13, 18, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 8, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 4], leftMost: 247, rightMost: 62, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{endMatch:{endMatchScores:[null,1]}},{set:{key:"board",value:{tiles:[0,15,10,20,null,null,25,19,null,null,null,null,null,null,27,14,null,null,null,null,null,null,null,null,null,null,null,null,null,null,26,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,13,18,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,8,null,null,7,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4],leftMost:247,rightMost:126,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:3,rightNumber:1},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:5,rightNumber:3},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:7,play:1}}},{setVisibility:{key:"tile7",visibleToPlayerIndexes:[0,1]}}]);
  });

  it("Move play last tile is legal", function() {
    expectMoveOk(1, {delta: {tileId: 7, play: Play.RIGHT}, house: {id:-1,hand:[5,6,9,11,12,16,17,21,22,23,24]}, players: [{id:0,hand:[1,2,3]},{id:1,hand:[7]}],board: {tiles: [0, 15, 10, 20, null, null, 25, 19, null, null, null, null, null, null, 27, 14, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 26, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 13, 18, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 8, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 4], leftMost: 247, rightMost: 62, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:5,rightNumber:3},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{endMatch:{endMatchScores:[undefined,1]}},{set:{key:"board",value:{tiles:[0,15,10,20,null,null,25,19,null,null,null,null,null,null,27,14,null,null,null,null,null,null,null,null,null,null,null,null,null,null,26,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,13,18,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,8,null,null,7,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4],"leftMost":247,"rightMost":126,"allTiles":[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:3,rightNumber:1},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:5,rightNumber:3},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:7,play:1}}},{setVisibility:{key:"tile7",visibleToPlayerIndexes:[0,1]}}]);
  });

  it("Move play left tile with wrong number is illegal", function() {
    expectIllegalMove(1, {delta: {tileId: 10, play: Play.LEFT}, house: {id:-1,hand:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}, players: [{id:0,hand:[0,1,2,3,4,6]},{id:1,hand:[7,8,9,10,11,12,13]}],board: {tiles: [5], leftMost: 0, rightMost: 0, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{setTurn:{turnIndex:0}},{set:{key:"board",value:{tiles:[5,10],leftMost:1,rightMost:0,allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:3,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:10,play:Play.LEFT}}},{setVisibility:{key:"tile10",visibleToPlayerIndexes:[0,1]}},{set:{key:"player1",value:{id:1,hand:[7,8,9,11,12,13]}}}]);
  });

  it("Move incorrect expected move is illegal", function() {
    expectIllegalMove(1, {delta: {tileId: 7, play: Play.RIGHT}, house: {id:-1,hand:[5,6,9,11,12,16,17,21,22,23,24]}, players: [{id:0,hand:[1,2,3]},{id:1,hand:[7]}],board: {tiles: [0, 15, 10, 20, null, null, 25, 19, null, null, null, null, null, null, 27, 14, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 26, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 13, 18, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 8, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 4], leftMost: 247, rightMost: 62, allTiles:[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:1,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:5,rightNumber:3},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}},
    [{endMatch:{endMatchScores:[null,1]}},{set:{key:"board",value:{tiles:[0,15,10,20,null,null,25,19,null,null,null,null,null,null,27,14,null,null,null,null,null,null,null,null,null,null,null,null,null,null,26,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,13,18,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,8,null,null,7,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4],"leftMost":247,"rightMost":126,"allTiles":[{key:"tile0",value:{leftNumber:0,rightNumber:0},visibleToPlayerIndexes:[0]},{key:"tile1",value:{leftNumber:0,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile2",value:{leftNumber:1,rightNumber:1},visibleToPlayerIndexes:[0]},{key:"tile3",value:{leftNumber:0,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile4",value:{leftNumber:1,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile5",value:{leftNumber:2,rightNumber:2},visibleToPlayerIndexes:[0]},{key:"tile6",value:{leftNumber:0,rightNumber:3},visibleToPlayerIndexes:[0]},{key:"tile7",value:{leftNumber:3,rightNumber:1},visibleToPlayerIndexes:[1]},{key:"tile8",value:{leftNumber:2,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile9",value:{leftNumber:3,rightNumber:3},visibleToPlayerIndexes:[1]},{key:"tile10",value:{leftNumber:0,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile11",value:{leftNumber:1,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile12",value:{leftNumber:2,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile13",value:{leftNumber:3,rightNumber:4},visibleToPlayerIndexes:[1]},{key:"tile14",value:{leftNumber:4,rightNumber:4},visibleToPlayerIndexes:[]},{key:"tile15",value:{leftNumber:0,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile16",value:{leftNumber:1,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile17",value:{leftNumber:2,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile18",value:{leftNumber:5,rightNumber:3},visibleToPlayerIndexes:[]},{key:"tile19",value:{leftNumber:4,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile20",value:{leftNumber:5,rightNumber:5},visibleToPlayerIndexes:[]},{key:"tile21",value:{leftNumber:0,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile22",value:{leftNumber:1,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile23",value:{leftNumber:2,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile24",value:{leftNumber:3,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile25",value:{leftNumber:4,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile26",value:{leftNumber:5,rightNumber:6},visibleToPlayerIndexes:[]},{key:"tile27",value:{leftNumber:6,rightNumber:6},visibleToPlayerIndexes:[]}]}}},{set:{key:"delta",value:{tileId:7,play:1}}},{setVisibility:{key:"tile7",visibleToPlayerIndexes:[0,1]}}]);
  });

});
